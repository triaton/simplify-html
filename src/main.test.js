const original = `
<html>
<body>
<!--StartFragment--><div class="postcell post-layout--right" style="margin: 0px; padding: 0px 16px 0px 0px; border: 0px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-variant-numeric: inherit; font-variant-east-asian: inherit; font-weight: 400; font-stretch: inherit; line-height: inherit; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Liberation Sans&quot;, sans-serif; font-size: 13px; vertical-align: top; box-sizing: inherit; grid-column: 2 / auto; width: auto; min-width: 0px; color: rgb(35, 38, 41); letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><div class="mb0 " style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px !important; margin-left: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: inherit;"><div class="mt16 d-flex gs8 gsy fw-wrap jc-end ai-start pt4 mb16" style="margin-top: 16px !important; margin-right: 0px; margin-bottom: 16px !important; margin-left: 0px; padding-top: 4px !important; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: inherit; flex-wrap: wrap !important; justify-content: flex-end !important; align-items: flex-start !important; display: flex !important;"><div class="flex--item mr16 fl1 w96" style="margin: 4px 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: inherit; flex: 1 1 auto !important; width: 96px !important;"><div class="js-post-menu pt2" data-post-id="45325339" style="margin: 0px; padding-top: 2px !important; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: inherit;"><div class="d-flex gs8 s-anchors s-anchors__muted fw-wrap" style="margin: -4px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: inherit; flex-wrap: wrap !important; display: flex !important;"><div class="flex--item" style="margin: 4px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: inherit;"><a href="https://stackoverflow.com/q/45325339/16007646" rel="nofollow" itemprop="url" class="js-share-link js-gps-track" title="Short permalink to this question" data-gps-track="post.click({ item: 2, priv: -1, post_type: 1 })" data-controller="se-share-sheet s-popover" data-se-share-sheet-title="Share a link to this question" data-se-share-sheet-subtitle="(Includes your user id)" data-se-share-sheet-post-type="question" data-se-share-sheet-social="facebook twitter devto" data-se-share-sheet-location="1" data-se-share-sheet-license-url="https%3a%2f%2fcreativecommons.org%2flicenses%2fby-sa%2f3.0%2f" data-se-share-sheet-license-name="CC BY-SA 3.0" data-s-popover-placement="bottom-start" aria-controls="se-share-sheet-0" data-action=" s-popover#toggle se-share-sheet#preventNavigation s-popover:show->se-share-sheet#willShow s-popover:shown->se-share-sheet#didShow" style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: inherit; text-decoration: none; color: var(--black-500); cursor: pointer; user-select: auto;">hare</a></div><div class="flex--item" style="margin: 4px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: inherit;"><a href="https://stackoverflow.com/posts/45325339/edit" class="js-suggest-edit-post js-gps-track" data-gps-track="post.click({ item: 6, priv: -1, post_type: 1 })" title="Revise and improve this post" style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: inherit; text-decoration: none; color: var(--black-500); cursor: pointer; user-select: auto;">Edit</a></div><div class="flex--item" style="margin: 4px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: inherit;"><button type="button" id="btnFollowPost-45325339" class="s-btn s-btn__link js-follow-post js-follow-question js-gps-track" data-gps-track="post.click({ item: 14, priv: -1, post_type: 1 })" data-controller="s-tooltip " data-s-tooltip-placement="bottom" data-s-popover-placement="bottom" aria-controls="" aria-describedby="--stacks-s-tooltip-9dw77kc3" style="margin: 0px; box-sizing: inherit; font: inherit; position: relative; display: inline; padding: 0px; color: var(--black-500); border: none; border-radius: 0px; background: none; outline: none; text-align: inherit; text-decoration: none; cursor: pointer; user-select: auto; box-shadow: none;">Follow</button></div></div><div class="js-menu-popup-container" style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: inherit;"></div></div></div><div class="post-signature owner flex--item" style="margin: 4px 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: top; box-sizing: inherit; text-align: left; width: 200px; border-radius: 3px; background-color: var(--theme-post-owner-background-color);"><div class="user-info " style="margin: 0px; padding: 5px 6px 7px 7px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: border-box; color: var(--black-500);"><div class="user-action-time" style="margin: 1px 0px 4px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 12px; vertical-align: baseline; box-sizing: inherit; white-space: nowrap;">asked<span>Â </span><span title="2017-07-26 11:15:15Z" class="relativetime" style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 12px; vertical-align: baseline; box-sizing: inherit; text-decoration: none;">Jul 26 '17 at 11:15</span></div><div class="user-gravatar32" style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: inherit; float: left; width: 32px; height: 32px; border-radius: 1px;"><a href="https://stackoverflow.com/users/5272197/siddube" style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: inherit; text-decoration: none; color: var(--theme-link-color); cursor: pointer; user-select: auto;"><div class="gravatar-wrapper-32" style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: inherit; overflow: hidden; width: 32px; height: 32px;"><img src="https://lh5.googleusercontent.com/-KAcd3MQ4UVA/AAAAAAAAAAI/AAAAAAAAAOM/nINpA0bIEfE/photo.jpg?sz=64" alt="" width="32" height="32" class="bar-sm" style="margin: 0px auto; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: inherit; border-radius: 1px; width: 32px; height: 32px;"></div></a></div><div class="user-details" itemprop="author" itemscope="" itemtype="http://schema.org/Person" style="margin: 0px 0px 0px 8px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: 17px; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: inherit; overflow-wrap: break-word; float: left; width: calc(100% - 40px); background: url(&quot;https://lh5.googleusercontent.com/-KAcd3MQ4UVA/AAAAAAAAAAI/AAAAAAAAAOM/nINpA0bIEfE/photo.jpg?sz=64&quot;);"><a href="https://stackoverflow.com/users/5272197/siddube" style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: inherit; text-decoration: none; color: var(--theme-link-color); cursor: pointer; user-select: auto;">siddube</a><div class="-flair" style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: inherit; display: block;"><span class="reputation-score" title="reputation score " dir="ltr" style="margin: 0px 2px 0px 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: bold; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 12px; vertical-align: baseline; box-sizing: inherit;">85</span><span title="1 silver badge" aria-hidden="true" style="margin: 0px 3px 0px 2px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: inherit;"><span class="badge2" style="margin: 0px 3px 0px 2px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: text-bottom; box-sizing: inherit; display: inline-block; overflow: hidden; width: 6px; height: 14px; background-position: -82px -398px; background-image: url(&quot;../../Img/unified/sprites.svg?v=fcc0ea44ba27&quot;), none; background-size: initial; background-repeat: no-repeat;"></span><span class="badgecount" style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: 400; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 12px; vertical-align: baseline; box-sizing: inherit; color: var(--black-400);">1</span></span><span class="v-visible-sr" style="margin: -1px 3px -1px 2px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: inherit; clip: rect(1px, 1px, 1px, 1px); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; width: 1px; overflow-wrap: normal;">1 silver badge</span><span title="10 bronze badges" aria-hidden="true" style="margin: 0px 3px 0px 2px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: inherit;"><span class="badge3" style="margin: 0px 3px 0px 2px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: text-bottom; box-sizing: inherit; display: inline-block; overflow: hidden; width: 6px; height: 14px; background-position: -62px -398px; background-image: url(&quot;../../Img/unified/sprites.svg?v=fcc0ea44ba27&quot;), none; background-size: initial; background-repeat: no-repeat;"></span><span class="badgecount" style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: 400; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 12px; vertical-align: baseline; box-sizing: inherit; color: var(--black-400);">10</span></span><span class="v-visible-sr" style="margin: -1px 3px -1px 2px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: inherit; clip: rect(1px, 1px, 1px, 1px); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; width: 1px; overflow-wrap: normal;">10 bronze badges</span></div></div></div></div></div></div></div><div class="post-layout--right js-post-comments-component" style="margin: 0px; padding: 0px 16px 0px 0px; border: 0px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-variant-numeric: inherit; font-variant-east-asian: inherit; font-weight: 400; font-stretch: inherit; line-height: inherit; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Liberation Sans&quot;, sans-serif; font-size: 13px; vertical-align: baseline; box-sizing: inherit; grid-column: 2 / auto; width: auto; min-width: 0px; color: rgb(35, 38, 41); letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><div id="comments-45325339" class="comments js-comments-container bt bc-black-075 mt12 " data-post-id="45325339" data-min-length="15" style="margin-top: 12px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding: 0px 0px 10px; border-top-width: 1px !important; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-top-style: solid !important; border-right-style: initial; border-bottom-style: initial; border-left-style: initial; border-color: var(--black-075)  !important; border-image: initial; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: inherit; width: 659px; -webkit-tap-highlight-color: rgba(255, 255, 255, 0);"><ul class="comments-list js-comments-list" data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true" style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; list-style: none; box-sizing: inherit; display: grid; grid-template-columns: max-content 1fr;"><li id="comment-77612253" class="comment js-comment " data-comment-id="77612253" data-comment-owner-id="989920" data-comment-score="0" style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: inherit; transition: background-color 2s linear 0s; display: contents;"><div class="js-comment-actions comment-actions" style="margin: 0px; padding: 6px 2px 6px 0px; border-top: 0px; border-right: 0px; border-bottom: 1px solid var(--black-050); border-left: 0px; border-image: initial; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: inherit; width: auto; transition: background-color 3s ease-out 0s; flex-shrink: 0; display: grid; grid-template-columns: repeat(2, max-content); align-content: flex-start;"><div class="comment-score js-comment-edit-hide" style="margin: 0px; padding: 0px 4px 0px 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: inherit; width: auto; display: inline-block; min-width: 16px;"></div></div><div class="comment-text  js-comment-text-and-form" style="margin: 0px; padding: 6px; border-top: 0px; border-right: 0px; border-bottom: 1px solid var(--black-050); border-left: 0px; border-image: initial; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: 1.4; font-family: inherit; font-size: 13px; vertical-align: text-top; box-sizing: inherit; flex-grow: 1; min-width: 0px; flex-basis: 0px; transition: background-color 3s ease-out 0s;"><div class="comment-body js-comment-edit-hide" style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: inherit; overflow-wrap: break-word;"><span class="comment-copy" style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: var(--theme-question-body-font-family); font-size: 13px; vertical-align: baseline; box-sizing: inherit;">Maybe convert it to a DOM node? Then loop through the ndoe elements, and remove all nodes whose type</span></div></div></li></ul></div></div><!--EndFragment-->
</body>
</html>`

const commentsRemoved = `
<html>
<body>
<div class="postcell post-layout--right" style="margin: 0px; padding: 0px 16px 0px 0px; border: 0px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-variant-numeric: inherit; font-variant-east-asian: inherit; font-weight: 400; font-stretch: inherit; line-height: inherit; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Liberation Sans&quot;, sans-serif; font-size: 13px; vertical-align: top; box-sizing: inherit; grid-column: 2 / auto; width: auto; min-width: 0px; color: rgb(35, 38, 41); letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><div class="mb0 " style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px !important; margin-left: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: inherit;"><div class="mt16 d-flex gs8 gsy fw-wrap jc-end ai-start pt4 mb16" style="margin-top: 16px !important; margin-right: 0px; margin-bottom: 16px !important; margin-left: 0px; padding-top: 4px !important; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: inherit; flex-wrap: wrap !important; justify-content: flex-end !important; align-items: flex-start !important; display: flex !important;"><div class="flex--item mr16 fl1 w96" style="margin: 4px 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: inherit; flex: 1 1 auto !important; width: 96px !important;"><div class="js-post-menu pt2" data-post-id="45325339" style="margin: 0px; padding-top: 2px !important; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: inherit;"><div class="d-flex gs8 s-anchors s-anchors__muted fw-wrap" style="margin: -4px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: inherit; flex-wrap: wrap !important; display: flex !important;"><div class="flex--item" style="margin: 4px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: inherit;"><a href="https://stackoverflow.com/q/45325339/16007646" rel="nofollow" itemprop="url" class="js-share-link js-gps-track" title="Short permalink to this question" data-gps-track="post.click({ item: 2, priv: -1, post_type: 1 })" data-controller="se-share-sheet s-popover" data-se-share-sheet-title="Share a link to this question" data-se-share-sheet-subtitle="(Includes your user id)" data-se-share-sheet-post-type="question" data-se-share-sheet-social="facebook twitter devto" data-se-share-sheet-location="1" data-se-share-sheet-license-url="https%3a%2f%2fcreativecommons.org%2flicenses%2fby-sa%2f3.0%2f" data-se-share-sheet-license-name="CC BY-SA 3.0" data-s-popover-placement="bottom-start" aria-controls="se-share-sheet-0" data-action=" s-popover#toggle se-share-sheet#preventNavigation s-popover:show->se-share-sheet#willShow s-popover:shown->se-share-sheet#didShow" style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: inherit; text-decoration: none; color: var(--black-500); cursor: pointer; user-select: auto;">hare</a></div><div class="flex--item" style="margin: 4px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: inherit;"><a href="https://stackoverflow.com/posts/45325339/edit" class="js-suggest-edit-post js-gps-track" data-gps-track="post.click({ item: 6, priv: -1, post_type: 1 })" title="Revise and improve this post" style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: inherit; text-decoration: none; color: var(--black-500); cursor: pointer; user-select: auto;">Edit</a></div><div class="flex--item" style="margin: 4px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: inherit;"><button type="button" id="btnFollowPost-45325339" class="s-btn s-btn__link js-follow-post js-follow-question js-gps-track" data-gps-track="post.click({ item: 14, priv: -1, post_type: 1 })" data-controller="s-tooltip " data-s-tooltip-placement="bottom" data-s-popover-placement="bottom" aria-controls="" aria-describedby="--stacks-s-tooltip-9dw77kc3" style="margin: 0px; box-sizing: inherit; font: inherit; position: relative; display: inline; padding: 0px; color: var(--black-500); border: none; border-radius: 0px; background: none; outline: none; text-align: inherit; text-decoration: none; cursor: pointer; user-select: auto; box-shadow: none;">Follow</button></div></div><div class="js-menu-popup-container" style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: inherit;"></div></div></div><div class="post-signature owner flex--item" style="margin: 4px 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: top; box-sizing: inherit; text-align: left; width: 200px; border-radius: 3px; background-color: var(--theme-post-owner-background-color);"><div class="user-info " style="margin: 0px; padding: 5px 6px 7px 7px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: border-box; color: var(--black-500);"><div class="user-action-time" style="margin: 1px 0px 4px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 12px; vertical-align: baseline; box-sizing: inherit; white-space: nowrap;">asked<span>Â </span><span title="2017-07-26 11:15:15Z" class="relativetime" style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 12px; vertical-align: baseline; box-sizing: inherit; text-decoration: none;">Jul 26 '17 at 11:15</span></div><div class="user-gravatar32" style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: inherit; float: left; width: 32px; height: 32px; border-radius: 1px;"><a href="https://stackoverflow.com/users/5272197/siddube" style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: inherit; text-decoration: none; color: var(--theme-link-color); cursor: pointer; user-select: auto;"><div class="gravatar-wrapper-32" style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: inherit; overflow: hidden; width: 32px; height: 32px;"><img src="https://lh5.googleusercontent.com/-KAcd3MQ4UVA/AAAAAAAAAAI/AAAAAAAAAOM/nINpA0bIEfE/photo.jpg?sz=64" alt="" width="32" height="32" class="bar-sm" style="margin: 0px auto; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: inherit; border-radius: 1px; width: 32px; height: 32px;"></div></a></div><div class="user-details" itemprop="author" itemscope="" itemtype="http://schema.org/Person" style="margin: 0px 0px 0px 8px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: 17px; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: inherit; overflow-wrap: break-word; float: left; width: calc(100% - 40px); background: url(&quot;https://lh5.googleusercontent.com/-KAcd3MQ4UVA/AAAAAAAAAAI/AAAAAAAAAOM/nINpA0bIEfE/photo.jpg?sz=64&quot;);"><a href="https://stackoverflow.com/users/5272197/siddube" style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: inherit; text-decoration: none; color: var(--theme-link-color); cursor: pointer; user-select: auto;">siddube</a><div class="-flair" style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: inherit; display: block;"><span class="reputation-score" title="reputation score " dir="ltr" style="margin: 0px 2px 0px 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: bold; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 12px; vertical-align: baseline; box-sizing: inherit;">85</span><span title="1 silver badge" aria-hidden="true" style="margin: 0px 3px 0px 2px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: inherit;"><span class="badge2" style="margin: 0px 3px 0px 2px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: text-bottom; box-sizing: inherit; display: inline-block; overflow: hidden; width: 6px; height: 14px; background-position: -82px -398px; background-image: url(&quot;../../Img/unified/sprites.svg?v=fcc0ea44ba27&quot;), none; background-size: initial; background-repeat: no-repeat;"></span><span class="badgecount" style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: 400; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 12px; vertical-align: baseline; box-sizing: inherit; color: var(--black-400);">1</span></span><span class="v-visible-sr" style="margin: -1px 3px -1px 2px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: inherit; clip: rect(1px, 1px, 1px, 1px); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; width: 1px; overflow-wrap: normal;">1 silver badge</span><span title="10 bronze badges" aria-hidden="true" style="margin: 0px 3px 0px 2px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: inherit;"><span class="badge3" style="margin: 0px 3px 0px 2px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: text-bottom; box-sizing: inherit; display: inline-block; overflow: hidden; width: 6px; height: 14px; background-position: -62px -398px; background-image: url(&quot;../../Img/unified/sprites.svg?v=fcc0ea44ba27&quot;), none; background-size: initial; background-repeat: no-repeat;"></span><span class="badgecount" style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: 400; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 12px; vertical-align: baseline; box-sizing: inherit; color: var(--black-400);">10</span></span><span class="v-visible-sr" style="margin: -1px 3px -1px 2px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: inherit; clip: rect(1px, 1px, 1px, 1px); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; width: 1px; overflow-wrap: normal;">10 bronze badges</span></div></div></div></div></div></div></div><div class="post-layout--right js-post-comments-component" style="margin: 0px; padding: 0px 16px 0px 0px; border: 0px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-variant-numeric: inherit; font-variant-east-asian: inherit; font-weight: 400; font-stretch: inherit; line-height: inherit; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Liberation Sans&quot;, sans-serif; font-size: 13px; vertical-align: baseline; box-sizing: inherit; grid-column: 2 / auto; width: auto; min-width: 0px; color: rgb(35, 38, 41); letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><div id="comments-45325339" class="comments js-comments-container bt bc-black-075 mt12 " data-post-id="45325339" data-min-length="15" style="margin-top: 12px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding: 0px 0px 10px; border-top-width: 1px !important; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-top-style: solid !important; border-right-style: initial; border-bottom-style: initial; border-left-style: initial; border-color: var(--black-075)  !important; border-image: initial; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: inherit; width: 659px; -webkit-tap-highlight-color: rgba(255, 255, 255, 0);"><ul class="comments-list js-comments-list" data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true" style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; list-style: none; box-sizing: inherit; display: grid; grid-template-columns: max-content 1fr;"><li id="comment-77612253" class="comment js-comment " data-comment-id="77612253" data-comment-owner-id="989920" data-comment-score="0" style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: inherit; transition: background-color 2s linear 0s; display: contents;"><div class="js-comment-actions comment-actions" style="margin: 0px; padding: 6px 2px 6px 0px; border-top: 0px; border-right: 0px; border-bottom: 1px solid var(--black-050); border-left: 0px; border-image: initial; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: inherit; width: auto; transition: background-color 3s ease-out 0s; flex-shrink: 0; display: grid; grid-template-columns: repeat(2, max-content); align-content: flex-start;"><div class="comment-score js-comment-edit-hide" style="margin: 0px; padding: 0px 4px 0px 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: inherit; width: auto; display: inline-block; min-width: 16px;"></div></div><div class="comment-text  js-comment-text-and-form" style="margin: 0px; padding: 6px; border-top: 0px; border-right: 0px; border-bottom: 1px solid var(--black-050); border-left: 0px; border-image: initial; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: 1.4; font-family: inherit; font-size: 13px; vertical-align: text-top; box-sizing: inherit; flex-grow: 1; min-width: 0px; flex-basis: 0px; transition: background-color 3s ease-out 0s;"><div class="comment-body js-comment-edit-hide" style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; font-size: 13px; vertical-align: baseline; box-sizing: inherit; overflow-wrap: break-word;"><span class="comment-copy" style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: var(--theme-question-body-font-family); font-size: 13px; vertical-align: baseline; box-sizing: inherit;">Maybe convert it to a DOM node? Then loop through the ndoe elements, and remove all nodes whose type</span></div></div></li></ul></div></div>
</body>
</html>`

const rawTags = ['<div style="background: black;">', '<image src="back.jpg" alt="field"/>', '<section>', '</span>']
const tags = ['div', 'image', 'section', 'span']

const { removeComments, extractTag } = require('./main')

test('removeComments should remove comments from input', () => {
    expect(removeComments(original)).toBe(commentsRemoved);
})

test('extractTag should extract only the tag text', () => {
    rawTags.forEach((rawTag, index) => {
        expect(extractTag(rawTag)).toBe(tags[index])
    })
})
